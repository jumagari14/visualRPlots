library(openxlsx)
library(reshape2)
library(ggplot2)
library(ggpubr)
library(DESeq2)
library(ggpubr)
?det
x<-matrix(1:4,ncol = 3)
det(x)
determinant(x)
installedPackages <- read.csv("G:/MF158_installedRPackages.csv",row.names = F,header = T)
installedPackages <- read.csv("G:/MF158_installedRPackages.csv",row.names = 0,header = T)
installedPackages <- read.csv("G:/MF158_installedRPackages.csv",header = T)
View(installedPackages)
dput(installedPackages)
dput(head(installedPackages,20))
installedPackages <- read.csv("G:/MF158_installedRPackages.csv",header = T)
df <- structure(list(
Package = c("abind", "ActivePathways", "ade4", "ADMM", "afex", "affy", "affyio", "ANCOMBC", "annotate", "AnnotationDbi",
"AnnotationFilter", "AnnotationForge", "AnnotationHub", "anytime", "apcluster", "ape", "aplot", "AsioHeaders",
"askpass", "assertthat"),
Version = c("1.4-8", "2.0.6", "1.7-23", "0.3.4", "1.5-0", "1.84.0", "1.76.0", "2.8.1", "1.84.0", "1.68.0",
"1.30.0", "1.48.0", "3.14.0", "0.3.12", "1.4.14", "5.8-1", "0.2.9", "1.30.2-1", "1.2.1", "0.2.1")
), class = "data.frame", row.names = c(NA, -20L))
if (!requireNamespace("remotes", quietly = TRUE)) install.packages("remotes")
# Loop through and install
for (i in seq_len(nrow(df))) {
pkg <- df$Package[i]
ver <- df$Version[i]
tryCatch({
remotes::install_version(pkg, version = ver)
}, error = function(e) {
message(sprintf("Failed to install %s version %s: %s", pkg, ver, e$message))
})
}
View(installedPackages)
version
installed.packages()
install.packages("BiocManager")
BiocManager::install("OlinkAnalyze")
library(OlinkAnalyze)
BiocManager::install("lifecycle")
library(ggplot2)
mf158Packages <- read.csv("G:/MF158_installedRPackages.csv",row.names = NULL,check.names = F)
mf158Packages$Package
library(OlinkAnalyze)
setwd("G:/visualizationPackage/")
#!/usr/bin/env Rscript
# ============================================================================
# Package Setup Script
# ============================================================================
# Run this script to set up your R package structure
# Usage: source("setup_package.R")
# ============================================================================
# Check if usethis is installed
if (!requireNamespace("usethis", quietly = TRUE)) {
stop("Please install 'usethis' package first: install.packages('usethis')")
}
if (!requireNamespace("devtools", quietly = TRUE)) {
stop("Please install 'devtools' package first: install.packages('devtools')")
}
cat("========================================\n")
cat("R Package Setup Script\n")
cat("========================================\n\n")
# Get package name
package_name <- readline(prompt = "Enter package name (e.g., 'myVizPackage'): ")
stop("Package name cannot be empty")
# Get package name
package_name <- readline(prompt = "Enter package name (e.g., 'myVizPackage'): ")
if (package_name == "") {
stop("Package name cannot be empty")
}
# Get author name
author_name <- readline(prompt = "Enter author name: ")
# Get author email
author_email <- readline(prompt = "Enter author email: ")
# Get GitHub username (optional)
github_user <- readline(prompt = "Enter GitHub username (optional, press Enter to skip): ")
# Create package
usethis::create_package(package_name, open = FALSE)
# Set working directory
setwd(package_name)
cat("Package directory created: ", getwd(), "\n\n")
# Add dependencies
cat("Adding dependencies...\n")
dependencies <- c(
"ggplot2", "ggpubr", "ggalluvial", "ggrepel", "rstatix",
"dplyr", "tidyr", "colorspace", "scales", "enrichplot",
"ggforestplot", "broom"
)
for (pkg in dependencies) {
cat("  Adding", pkg, "...\n")
usethis::use_package(pkg, type = "Imports")
}
# Optional dependencies
cat("\nAdding optional dependencies...\n")
usethis::use_package("FSA", type = "Suggests")
usethis::use_package("testthat", type = "Suggests")
usethis::use_package("DOSE", type = "Suggests")
BiocManager::install("DOSE")
usethis::use_package("FSA", type = "Suggests")
usethis::use_package("testthat", type = "Suggests")
usethis::use_package("DOSE", type = "Suggests")
usethis::use_package("knitr", type = "Suggests")
usethis::use_package("rmarkdown", type = "Suggests")
# Add license
cat("\nAdding MIT license...\n")
usethis::use_mit_license(author_name)
# Add README
cat("Creating README...\n")
usethis::use_readme_rmd()
# Add test infrastructure
cat("Setting up test infrastructure...\n")
usethis::use_testthat()
# Add GitHub Actions (if GitHub user provided)
if (github_user != "") {
cat("Adding GitHub Actions...\n")
usethis::use_github_action("check-standard")
}
usethis::use_git()
desc_file <- file.path("DESCRIPTION")
desc_content <- readLines(desc_file)
desc_content <- gsub("Your Name", author_name, desc_content)
desc_content <- gsub("your.email@example.com", author_email, desc_content)
desc_content <- gsub("yourPackageName", package_name, desc_content)
if (github_user != "") {
# Add URL and BugReports
url_line <- paste0("URL: https://github.com/", github_user, "/", package_name)
bug_line <- paste0("BugReports: https://github.com/", github_user, "/", package_name, "/issues")
# Find where to insert
license_idx <- grep("^License:", desc_content)
if (length(license_idx) > 0) {
desc_content <- c(
desc_content[1:license_idx],
url_line,
bug_line,
desc_content[(license_idx + 1):length(desc_content)]
)
}
}
writeLines(desc_content, desc_file)
cat("\n========================================\n")
cat("Package setup complete!\n")
cat("========================================\n\n")
cat("Next steps:\n")
cat("1. Copy your R functions from visualPlotFunctions.R to R/ directory\n")
cat("   - Split into multiple files (plot-boxplots.R, plot-specialized.R, etc.)\n")
cat("2. Run: devtools::document() to generate documentation\n")
cat("3. Run: devtools::check() to verify package\n")
cat("4. Initialize git repository:\n")
cat("   git init\n")
cat("   git add .\n")
cat("   git commit -m 'Initial commit'\n")
if (github_user != "") {
cat("5. Create GitHub repository and push:\n")
cat("   git remote add origin https://github.com/", github_user, "/", package_name, ".git\n", sep = "")
cat("   git push -u origin main\n")
cat("6. Users can install with:\n")
cat("   devtools::install_github('", github_user, "/", package_name, "')\n", sep = "")
} else {
cat("5. Create GitHub repository and push your code\n")
cat("6. Users can install with: devtools::install_github('username/", package_name, "')\n", sep = "")
}
cat("\n")
getwd()
devtools::document()
